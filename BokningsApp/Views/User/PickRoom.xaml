<?xml version="1.0" encoding="utf-8" ?>
<ContentPage xmlns="http://schemas.microsoft.com/dotnet/2021/maui"
             xmlns:x="http://schemas.microsoft.com/winfx/2009/xaml"
             x:Class="BokningsApp.User.PickRoom"
             Title="PickRoom">

    <ContentPage.Content>
        <Grid Padding="10"
              RowDefinitions="Auto,*,Auto">
            <!-- Auto = UI, * = Spacer, Auto = Väder längst ner -->

            <!-- UI för rumsbokning -->
            <StackLayout Grid.Row="0">
                <Label Text="{Binding SelectedDate}" FontSize="Large" HorizontalOptions="Center" />

                <Picker Title="Select Room Type"
                        WidthRequest="250"
                        ItemsSource="{Binding RoomTypes}"
                        SelectedItem="{Binding SelectedRoomType}">
                    <Picker.ItemDisplayBinding>
                        <Binding Path="RoomType"/>
                    </Picker.ItemDisplayBinding>
                </Picker>

                <Picker Title="Select Room"
                        WidthRequest="250"
                        ItemsSource="{Binding AvailableRooms}"
                        SelectedItem="{Binding SelectedRoom}">
                    <Picker.ItemDisplayBinding>
                        <Binding Path="RoomName"/>
                    </Picker.ItemDisplayBinding>
                </Picker>

                <Label Text="Välj tid" HorizontalOptions="Center"/>
                <TimePicker Format="HH" 
                            HorizontalOptions="Center"
                            Time="{Binding StartTime}" />
                <TimePicker Format="HH"
                            HorizontalOptions="Center"
                            Time="{Binding EndTime}"/>

                <Button Text="Book Room" Clicked="OnBookClicked"
                        WidthRequest="250"/>
            </StackLayout>

            <!-- Spacer (för att trycka ner väderinformationen) -->
            <BoxView Grid.Row="1" HeightRequest="10" BackgroundColor="Transparent"/>
            <!-- Minskat höjden -->

            <!-- Väderinfo (längst ner) -->
            <Frame Grid.Row="2" Padding="10" BackgroundColor="Transparent" CornerRadius="10"
       BorderColor="Gray" WidthRequest="250"
       VerticalOptions="End" HorizontalOptions="Center">
                <StackLayout HorizontalOptions="Center">
                    <Label Text="Väderinformation" FontSize="20" FontAttributes="Bold" 
               HorizontalOptions="Center" TextColor="Black"/>
                    <Label Text="{Binding WeatherVM.Weather.Temp, StringFormat='Temperatur: {0}°C'}"
               FontSize="18"
               TextColor="Black"
               HorizontalOptions="Center"/>
                    <Label Text="{Binding WeatherVM.Weather.Condition, StringFormat='Väder: {0}'}"
               FontSize="18"
               TextColor="Gray"
               HorizontalOptions="Center"/>
                    <!-- ✅ Testa att lägga en standardtext -->
                    <Label Text="(Om du ser denna text, fungerar UI!)" FontSize="14" TextColor="Red"/>
                </StackLayout>
            </Frame>


        </Grid>
    </ContentPage.Content>
</ContentPage>
